# =============================================================================
# Horadus staging profile example
# =============================================================================
# Purpose:
# - pre-production rehearsal with production-like guardrails enabled
# - isolated infrastructure/data from local development and production
# =============================================================================

# Core environment
ENVIRONMENT=staging
API_HOST=127.0.0.1
API_PORT=8000
API_RELOAD=false
SQL_ECHO=false
LOG_LEVEL=INFO
LOG_FORMAT=json

# Production-like auth/secret guardrails (required for staging)
# Replace these placeholders with staging-only secrets before use.
API_AUTH_ENABLED=true
API_KEY=staging-bootstrap-key
API_ADMIN_KEY=staging-admin-key
SECRET_KEY=replace-with-32-plus-char-staging-secret

# Runtime dependencies (example localhost values)
DATABASE_URL=postgresql+asyncpg://<staging-user>@localhost:5432/geoint_staging
DATABASE_URL_SYNC=postgresql://<staging-user>@localhost:5432/geoint_staging
REDIS_URL=redis://localhost:6379/5
CELERY_BROKER_URL=redis://localhost:6379/6
CELERY_RESULT_BACKEND=redis://localhost:6379/7

# Keep migration parity strict in staging rehearsal.
MIGRATION_PARITY_CHECK_ENABLED=true
MIGRATION_PARITY_STRICT_STARTUP=true

# HTTPS ingress host for staging (if exposed through Caddy/edge)
HORADUS_PUBLIC_DOMAIN=staging.localhost
CADDY_ACME_EMAIL=admin@localhost

# LLM provider key (prefer *_FILE in real deployments)
OPENAI_API_KEY=

# Optional: use file-backed secrets in deployed staging
# SECRET_KEY_FILE=/run/secrets/horadus/staging/secret_key
# API_KEY_FILE=/run/secrets/horadus/staging/api_key
# API_ADMIN_KEY_FILE=/run/secrets/horadus/staging/api_admin_key
